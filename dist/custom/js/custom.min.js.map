{"version":3,"sources":["custom.js"],"names":["makeID","length","result","characters","charactersLength","i","charAt","Math","floor","random","initMainQuiz","_callee","data","quiz","box","html","_i","_Object$entries","_Object$entries$_i","key","value","regeneratorRuntime","wrap","_context","prev","next","title","name","label","placeholder","phone","type","$","questions","find","Object","entries","_slicedToArray","form","answers","answer","index","arr","currentID","append","stop","this","document","ready","log","e","parentQuestion","closest","is","dots","parentQuiz","attr","newNumberTab","numberTab","addClass","removeClass","allLabels","each","item","setTimeout"],"mappings":"AAAA,g/BAEA,IAAMA,OAAS,SAACC,GAKZ,IAJA,IAAIC,EAAS,GACPC,EAAa,iEACfC,EAAmBD,EAAWF,OAEzBI,EAAI,EAAGA,EAAIJ,EAAQI,IACxBH,GAAUC,EAAWG,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,IAE3D,OAAOF,YAPMQ,kJAAb,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,KAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAaMb,GAZAT,EAAU,CACZC,UAAgB,CAaR,CAXKsB,MAAGzB,2BACNE,QAAWG,CAAAA,aAAkBC,YAAA,cAAgBH,WAAvD,UAAA,YAAA,iBAEGF,KAAP,CARJyB,KAAA,CAuBoBC,MAAO,MAVZlB,KAWW,OACNiB,KAAM,OACNE,YAAa,wBAEjBC,MAAO,CACHF,MAAO,UACPG,KAAM,MACNJ,KAlBpB,QAAAE,YAAA,iBAAAhB,EAAAmB,EAAA,cACUpB,CAEM,IADJqB,EAAAA,EAAAA,GACIC,KAAA,mBACIR,EAAAA,GADJV,EAAA,EAAAC,EAFCkB,OAAAC,QAAAxB,EAAAqB,WAEDjB,EAAAC,EAAAhB,OAAAe,IAFCE,EAAAmB,eAAApB,EAAAD,GAAA,GAAAG,EAAAD,EAAA,GAAAE,EAAAF,EAAA,GAOLoB,GAAAA,2CAAAA,OAAM,IAAAnB,EAAA,mCAAA,GAANmB,4BAAAA,QAAMnB,EAAA,EAANmB,2HAAAA,OACUlB,EAAAM,MADVY,yCAGYlB,EAAEmB,QACNZ,QAAM,SAHJa,EAAAC,EAAAC,GAIS,IAAXb,IALFd,GAAA,iDAQEa,IAAAA,EAAO5B,OADJ,GAEH+B,GAAAA,0EAAAA,OAFGU,EAAA,EAEHV,wDAAAA,OAFGY,EAEHZ,aAAAA,OAFGS,EAEHT,+BAAAA,OAEAF,EAFAE,0CAAAA,OAEaS,EAFbT,oBATFhB,GAAA,6FAiBdiB,EAAAlB,GAAA8B,OAAU7B,GArCV,KAAA,EAAA,IAAA,MAAA,OAAAQ,EAAAsB,SAAAlC,EAAAmC,gCAyCId,EAAAe,UAAAC,MAAA,WAAyDtC,eACrDK,KAAAA,SAAAA,GAGI2B,QAJiDO,IAI3C7B,KAENY,EAAA,mBAAIS,GAAK,QAAQ,6BAAA,SAAAS,GACbnC,EAAAA,iBACH,IAAAoC,EAAAnB,EAAAc,MAAAM,QAAA,4BACD,GAAApB,EAAA,cAAIW,GAAJU,GAAA,YAAA,CACAtC,IAAAA,EAAIiB,EAAAmB,GAAAC,QAAA,cAGPE,EARDtB,EAAAuB,GAAArB,KAAA,kBASAnB,EAAQiB,EAAAmB,GAAAK,KAAA,wBACXC,GAAAC,EAAA,EAED1B,EAAAA,+CAAA0B,EAAA,KAAAJ,GAAAK,SAAA,wCAAAC,YAAA,qCACH5B,EAAA,+CAAAyB,EAAA,KAAAH,GAAAK,SAAA,qCAoBO3B,EAAEmB,GAAgBQ,SAAS,sCAAsCC,YAAY,mCAnEzF5B,EAAA,kDAAAyB,EAAA,KAAAF,GAAAI,SAAA,uCAAA,CAAA,IAAAE,EAAA7B,EAAAmB,GAAAjB,KAAA,SAAAF,EAAA6B,GAAAC,KAAA,SAAArB,GAAA,IAAAsB,EAAA/B,EAAAc,MAAAkB,WAAA,WA0EoBD,EAAKJ,SAAS,sCACdK,WAAW,WACPD,EAAKH,YAAY,wCACVnB,EAAQ,GAAK,EAArB,OA3BLA,EAAM,GAAA,EAAN","file":"custom.min.js","sourcesContent":["'use strict';\r\n\r\nconst makeID = (length) => {\r\n    let result = '';\r\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',\r\n        charactersLength = characters.length;\r\n\r\n    for (let i = 0; i < length; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n    return result;\r\n};\r\n\r\n\r\n\r\nasync function initMainQuiz() {\r\n    const data = {\r\n            questions: [\r\n                {\r\n                    title: 'Какой язык хотите учить?',\r\n                    answers: [\"Английский\", \"Испанский\", \"Французский\", \"Немецкий\", \"Русский\", \"Китайский\", \"Итальянский\"]\r\n                }\r\n            ],\r\n            form: {\r\n                name: {\r\n                    label: 'Имя',\r\n                    type: 'text',\r\n                    name: 'name',\r\n                    placeholder: 'Иванов Иван Иванович',\r\n                },\r\n                phone: {\r\n                    label: 'Телефон',\r\n                    type: 'tel',\r\n                    name: 'phone',\r\n                    placeholder: '89000000000'\r\n                }\r\n            }\r\n        },\r\n        quiz = $('.main-quiz');\r\n\r\n    if (quiz) {\r\n        const box = $(quiz).find('.main-quiz__box');\r\n        let html = '';\r\n\r\n        for (let [key, value] of Object.entries(data.questions)) {\r\n            html += `<fieldset class=\"main-quiz-form-question${(+key === 0 ? ' main-quiz-form-question--active' : '')}\" data-number-question=\"${+key + 1}\">\r\n<div class=\"main-quiz-form-question__wrapper\"><legend class=\" main-quiz-form-question__title\" data-question-title=\"${value.title}\">Какой язык хотите учить?</legend>\r\n`;\r\n            let arr = value.answers;\r\n            arr.forEach(function (answer, index, arr) {\r\n                if (index === 0) {\r\n                    html += '<div class=\"main-quiz-form-question__radios\">';\r\n                }\r\n                let currentID = makeID(8);\r\n                html += `<div class=\"main-quiz-form-radio\">\r\n<input type=\"radio\" name=\"question-${index + 1}\" class=\"main-quiz-form-radio__item\" id=\"question-1-${currentID}\" value=\"${answer}\">\r\n<label for=\"question-1-${currentID}\" class=\"main-quiz-form-radio__label\">${answer}</label></div>`;\r\n            });\r\n            html += '<button class=\"c-btn main-quiz-form-radio__btn\">Следующий вопрос</button></div></fieldset>';\r\n        }\r\n\r\n        $(box).append(html);\r\n    }\r\n}\r\n\r\n$(document).ready(() => {\r\n    initMainQuiz()\r\n        .then(resolve => {\r\n            console.log(resolve);\r\n        });\r\n    $('.main-quiz-form').on('click', '.main-quiz-form-radio__btn', function (e) {\r\n        e.preventDefault();\r\n        const parentQuestion = $(this).closest('.main-quiz-form-question');\r\n\r\n        if ($('input:radio', parentQuestion).is(':checked')) {\r\n            const parentQuiz = $(parentQuestion).closest('.main-quiz'),\r\n                dots = $(parentQuiz).find('main-quiz-dots'),\r\n                numberTab = $(parentQuestion).attr('data-number-question'),\r\n                newNumberTab = +numberTab + 1;\r\n\r\n            $('.main-quiz-dots-list__item[data-number-dot=\"' + numberTab + '\"]', dots).addClass('main-quiz-dots-list__item--completed').removeClass('main-quiz-dots-list__item--active');\r\n            $('.main-quiz-dots-list__item[data-number-dot=\"' + newNumberTab + '\"]', dots).addClass('main-quiz-dots-list__item--active');\r\n            $(parentQuestion).addClass('main-quiz-form-question--completed').removeClass('main-quiz-form-question--active');\r\n            $('.main-quiz-form-question[data-number-question=\"' + newNumberTab + '\"]', parentQuiz).addClass('main-quiz-form-question--active');\r\n        } else {\r\n            const allLabels = $(parentQuestion).find('label');\r\n            $(allLabels).each(function (index) {\r\n                const item = $(this);\r\n                setTimeout(function () {\r\n                    item.addClass('main-quiz-form-radio__label--error');\r\n                    setTimeout(function () {\r\n                        item.removeClass('main-quiz-form-radio__label--error');\r\n                    }, 200 * ((index + 1) / 2));\r\n                }, 100 * ((index + 1) / 2));\r\n            });\r\n        }\r\n    });\r\n});\r\n"]}